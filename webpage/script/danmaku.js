const danmakuTexts=[];fetch("./script/danmakuList.json").then(res=>{if(!res.ok){throw new Error("Can't find danmakuList.json !");}return res.json()}).then(data=>{for(const text of data.danmaku){danmakuTexts.push(text)}});window.addEventListener("load",()=>{const danmakuContainer=document.querySelector('.danmaku-container');function createDanmaku(){const danmaku=document.createElement("div");danmaku.className="danmaku";danmaku.textContent=danmakuTexts[Math.floor(Math.random()*danmakuTexts.length)];const top=Math.random()*(window.innerHeight-30);danmaku.style.top=`${top}px`;const duration=10+Math.random()*5;danmaku.style.animationDuration=`${duration}s`;const hue=Math.random()*360;danmaku.style.color=`hsl(${hue},80%,80%)`;danmakuContainer.appendChild(danmaku);danmaku.addEventListener("animationend",()=>{danmaku.remove()})}setInterval(()=>{createDanmaku()},1000+Math.random()*2000);for(let i=0;i<5;i++){setTimeout(createDanmaku,i*500)}});